{% extends 'base.html' %}

{% block content %}
    {% if search_term %}
        <header>
            <div class="center center-text" id="small-header">
                <a href="{{ url_for('index') }}">
                    <img src="{{ url_for('static',filename='img/logo-black-xsmall.png') }}" alt="FindYourMeme">
                </a>
                <div id="search-box" class="center center-text">
                    <form action="/search" method="get">
                        <input type="text" name="s" id="search-box" value="{{ search_term }}">
                        <input type="number" name="n" id="no-terms-box" min="10" max="1000" value="10">
                        <input type="hidden" name="p" value="0">
                        <input type="submit" value="Search">
                    </form>
    {% else %}
        <header class="full-height">
            <div class="center center-text vertical-center">
                <a href="{{ url_for('index') }}">
                    <img src="{{ url_for('static',filename='img/logo-black-small.png') }}" alt="FindYourMeme">
                </a>
                <!-- <img src="{{ url_for('static',filename='img/logo-black-small.png') }}" alt=""> -->
                <div id="search-box" class="center center-text">
                    <form action="/search" method="get">
                        <input type="text" name="s" id="search-box">
                        <input type="number" name="n" id="no-terms-box" min="10" max="1000" value="10">
                        <input type="hidden" name="p" value="0">
                        <input type="submit" value="Search">
                    </form>
                </div>
            {% endif %}
        </div>
    </header>
    <div id="main">
        <div>
            <div id="search-results">
                {% if results and search_term %}
                    {% for result in results %}
                        <a href="{{ url_for('meme', meme_id=result['id']) }}" target="_blank">
                            <img src="{{ result['url'][0] }}" alt="Image" class="meme-result">
                        </a>
                    {% endfor %}
                {% endif %}
            </div>
        </div>
    </div>
    <div id="nav-buttons" class="center">
        <form action="/search" method="GET" class="center">
            <input type="button" value="Prev">
            <input type="hidden" name="p" value="{{ page_no - 1 }}">
            <input type="hidden" name="n" value="{{ no_terms }}">
            <input type="hidden" name="s" value="{{ search_term }}">
        </form>
        <form action="/search" method="GET" class="center">
            <input type="button" value="Next">
            <input type="hidden" name="p" value="{{ page_no + 1 }}">
            <input type="hidden" name="n" value="{{ no_terms }}">
            <input type="hidden" name="s" value="{{ search_term }}">
        </form>
    </div>
{% endblock %}
